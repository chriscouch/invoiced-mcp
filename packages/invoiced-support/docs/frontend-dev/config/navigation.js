(function () {
    'use strict';

    this.InvoicedConfig.appMenu = [
        {
            type: 'link',
            id: 'dashboard',
            icon: true,
            route: 'manage.dashboard',
        },
        // Accounts Receivable Links
        {
            type: 'submenu',
            id: 'receivables',
            icon: true,
            allFeatures: ['accounts_receivable'],
        },
        {
            type: 'link',
            parent: 'receivables',
            id: 'customers',
            route: 'manage.customers.browse',
            activeSections: ['customer', 'customers'],
            create: true,
            createPermission: 'customers.create',
            allFeatures: ['accounts_receivable'],
        },
        {
            type: 'link',
            parent: 'receivables',
            id: 'estimates',
            route: 'manage.estimates.browse',
            activeSections: ['estimate', 'estimates'],
            create: true,
            createPermission: 'estimates.create',
            createRoute: 'manage.estimates.new',
            allFeatures: ['accounts_receivable', 'estimates'],
        },
        {
            type: 'link',
            parent: 'receivables',
            id: 'payment_links',
            route: 'manage.payment_links.browse',
            activeSections: ['payment_link', 'payment_links'],
            create: true,
            createRoute: 'manage.payment_links.new',
            createSomePermissions: ['catalog.edit'],
            allFeatures: ['accounts_receivable', 'payment_links'],
        },
        {
            type: 'link',
            parent: 'receivables',
            id: 'invoices',
            route: 'manage.invoices.browse',
            activeSections: ['invoice', 'invoices'],
            create: true,
            createPermission: 'invoices.create',
            createRoute: 'manage.invoices.new',
            allFeatures: ['accounts_receivable'],
        },
        {
            type: 'link',
            parent: 'receivables',
            id: 'payment_plans',
            route: 'manage.payment_plans.browse',
            activeSections: ['payment_plan', 'payment_plans'],
            allFeatures: ['accounts_receivable', 'payment_plans'],
        },
        {
            type: 'link',
            parent: 'receivables',
            id: 'customer_payments',
            route: 'manage.payments.browse',
            activeSections: ['payment', 'payments', 'transaction', 'transactions'],
            create: true,
            createSomePermissions: ['payments.create', 'charges.create'],
            allFeatures: ['accounts_receivable'],
        },
        {
            type: 'link',
            parent: 'receivables',
            id: 'inbox',
            route: 'manage.ar_inbox',
            activeSections: ['inbox', 'inboxes'],
            allFeatures: ['accounts_receivable', 'inboxes'],
        },
        {
            type: 'link',
            parent: 'receivables',
            id: 'activities',
            route: 'manage.activities.browse',
            activeSections: ['activities'],
            allFeatures: ['accounts_receivable', 'smart_chasing'],
        },
        // Subscription Billing Links
        {
            type: 'link',
            id: 'subscriptions',
            icon: true,
            route: 'manage.subscriptions.browse',
            activeSections: ['subscription', 'subscriptions'],
            create: true,
            createPermission: 'subscriptions.create',
            allFeatures: ['accounts_receivable', 'subscriptions'],
        },
        // Accounts Payable Links
        {
            type: 'submenu',
            id: 'payables',
            icon: true,
            allFeatures: ['accounts_payable'],
        },
        {
            type: 'link',
            parent: 'payables',
            id: 'approvals',
            route: 'manage.activities.browse',
            activeSections: ['activities'],
            allFeatures: ['accounts_payable'],
        },
        {
            type: 'link',
            parent: 'payables',
            id: 'vendors',
            route: 'manage.vendors.browse',
            create: true,
            createPermission: 'vendors.create',
            activeSections: ['vendors', 'vendor'],
            allFeatures: ['accounts_payable'],
        },
        {
            type: 'link',
            parent: 'payables',
            id: 'bills',
            route: 'manage.bills.browse',
            create: true,
            createPermission: 'bills.create',
            createRoute: 'manage.bills.new',
            activeSections: ['bills', 'bill'],
            allFeatures: ['accounts_payable'],
        },
        {
            type: 'link',
            parent: 'payables',
            id: 'vendor_payments',
            route: 'manage.vendor_payments.browse',
            create: true,
            createPermission: 'vendors.create',
            createRoute: 'manage.vendor_payment_batches.new',
            activeSections: ['vendor_payments', 'vendor_payment', 'vendor_payment_batches', 'vendor_payment_batch'],
            allFeatures: ['accounts_payable'],
        },
        {
            type: 'link',
            parent: 'payables',
            id: 'inbox',
            route: 'manage.ap_inbox',
            activeSections: ['inbox', 'inboxes'],
            allFeatures: ['accounts_payable', 'inboxes'],
        },
        // Reporting, Apps, etc
        {
            type: 'link',
            id: 'reports',
            icon: true,
            route: 'manage.reports.list',
            activeSections: ['report', 'reports'],
            permission: 'reports.create',
        },
        {
            type: 'link',
            id: 'apps',
            icon: true,
            route: 'manage.settings.apps',
            activeSections: ['settings.apps', 'settings.app'],
            permission: 'settings.edit',
        },
    ];
}).call(this);
