<div class="modal-header">
	<a role="button" class="close" ng-click="close()" aria-hidden="true">&times;</a>
	<h4 class="modal-title">
		Add Item<span ng-show="multiple">s</span>
	</h4>
</div>
<div class="modal-body">
	<p class="loading" ng-show="loading"></p>

	<div class="modal-selector slim" ng-show="!loading&&catalogItems.length>0">
		<div class="search">
			<div class="searchbar light">
				<div class="bar">
					<div class="icon"><span class="fas fa-search"></span></div>
					<input type="text" class="form-control" placeholder="Item name or ID..." ng-model="search" tabindex="2000" />
					<div class="icon right icon-btn" ng-show="search">
						<button type="button" class="btn btn-link" ng-click="search=''" tabindex="2001">
							<span class="fas fa-times-circle"></span>
						</button>
					</div>
				</div>
			</div>
			<div class="action">
				<button type="button" class="btn btn-default" ng-click="newItemModal()" tabindex="2002" ng-if="'catalog.edit'|hasPermission">
					<span class="fas fa-plus"></span>
					New
				</button>
			</div>
		</div>

		<div class="catalog-items-list" ng-class="{multiple: multiple, single: !multiple}">
			<div class="empty" ng-show="results.length===0">
				Could not find any items with a name or ID matching <strong>{{search}}</strong>. <a href="" ng-click="newItemModal(search)" tabindex="2003" ng-if="'catalog.edit'|hasPermission">Create one.</a>
			</div>

			<a class="catalog-item" ng-repeat="item in catalogItems | searchObject:search:['name','id'] | orderBy:'name' | limitTo:100 as results" ng-click="toggleItem(item)" ng-class="{selected:isSelected(item)}" tabindex="{{$index + 2003}}" title="ID: {{item.id}}">
				<div class="selected">
					<span class="label label-success">Selected</span>
				</div>
				<div class="add">
					<span class="fas fa-plus"></span>
				</div>
				<div class="title">
					{{item.name}}
				</div>
				<div class="amount" ng-show="item.currency">
					<money amount="item.unit_cost" currency="item.currency" precision="settings.unit_cost_precision"></money>
				</div>
				<div class="arrow">
					<span class="fas fa-chevron-right"></span>
				</div>
			</a>
		</div>
	</div>
	<cut-list-label count="results.length" total="(catalogItems | searchObject:search:['name','id']).length"></cut-list-label>

	<p class="empty" ng-show="!loading&&catalogItems.length==0">
		You don't have any items yet.
		<span ng-if="'catalog.edit'|hasPermission">
			<a href="" ng-click="newItemModal()" tabindex="2003">Create one</a>.
		</span>
	</p>
</div>
<div class="modal-footer" ng-show="multiple">
	<div class="left" ng-show="selected.length>0">
		<strong>{{selected.length}} selected</strong>
	</div>
	<button type="button" class="btn btn-primary Button" ng-disabled="selected.length==0" ng-click="addItems(selected)" v-pressable tabindex="2500">Add</button>
</div>