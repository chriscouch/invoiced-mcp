<p class="alert alert-danger" ng-show="error">
	{{error.message}}
</p>

<p class="loading" ng-show="loading"></p>

<div class="panel panel-default" ng-hide="loading">
	<div class="panel-heading">
		<h4 class="panel-title button-title">
			<div class="row">
				<div class="col-sm-4">
					<div class="searchbar light">
						<div class="bar">
							<div class="icon"><span class="fas fa-search"></span></div>
							<input type="text" class="form-control" ng-model="search" tabindex="2000" />
							<div class="icon right icon-btn" ng-show="search">
								<button type="button" class="btn btn-link" ng-click="search=''" tabindex="2001">
									<span class="fas fa-times-circle"></span>
								</button>
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-8 text-right">
					<a ui-sref="manage.imports.new.spreadsheet({type:'tax_rate'})" class="btn btn-default hidden-xs" ng-if="'imports.create'|hasPermission">
						Import
					</a>
					<button type="button" class="btn btn-success" ng-click="newTaxRateModal(type)">
						New Tax Rate
					</button>
				</div>
			</div>
		</h4>
	</div>

	<!-- No Results -->
	<div class="list-group" ng-show="results.length === 0">
		<div class="list-group-item">
			<div class="empty">No tax rates found.</div>
		</div>
	</div>

	<!-- Results Table -->
	<table class="table table-striped search-results-table" ng-show="results.length > 0">
		<thead>
			<tr>
				<th>Name</th>
				<th>Tax Mode</th>
				<th class="money-column">Amount</th>
				<th class="nopadding"></th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="taxRate in taxRates | searchObject:search:['name','id'] | orderBy:['name'] | limitTo:100 as results">
				<td>
					{{taxRate.name}}
					<a href="" class="id-tooltip" tooltip="{{taxRate.id}}">
						<span class="fas fa-hashtag"></span>
					</a>
				</td>
				<td>
					<a href="" tooltip="Prices include tax" ng-show="taxRate.inclusive">
						<span class="label label-success">Inclusive</span>
					</a>
					<a href="" tooltip="Prices exclude tax" ng-hide="taxRate.inclusive">
						<span class="label label-default">Exclusive</span>
					</a>
				</td>
				<td class="noborder money-column">
					<span ng-show="taxRate.is_percent">{{taxRate.value}} %</span>
					<span ng-hide="taxRate.is_percent"><money amount="taxRate.value" currency="taxRate.currency"></money></span>
				</td>
				<td class="nopadding hover-actions-holder mobile-last mobile-visible">
					<div class="hover-actions">
						<button type="button" class="btn btn-default btn-sm" ng-click="editTaxRateModal(taxRate)" tooltip="Edit Tax Rate">
							<span class="fas fa-pencil"></span>
						</button>
						<button type="button" class="btn btn-danger btn-sm" ng-click="delete(taxRate)" ng-disabled="deleting[taxRate.id]" tooltip="Delete Tax Rate">
							<span class="fas fa-trash"></span>
						</button>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</div>
<cut-list-label count="results.length" total="(taxRates | searchObject:search:['name','id']).length"></cut-list-label>