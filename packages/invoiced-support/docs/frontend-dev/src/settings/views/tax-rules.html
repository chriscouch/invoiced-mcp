<p class="alert alert-danger" ng-show="error">
	{{error.message}}
</p>

<p class="loading" ng-show="loading"></p>

<div class="panel panel-default" ng-hide="loading">
	<div class="panel-heading">
		<h4 class="panel-title button-title">
			<div class="row">
				<div class="col-sm-4">
					<div class="searchbar light">
						<div class="bar">
							<div class="icon"><span class="fas fa-search"></span></div>
							<input type="text" class="form-control" ng-model="search" tabindex="2000" />
							<div class="icon right icon-btn" ng-show="search">
								<button type="button" class="btn btn-link" ng-click="search=''" tabindex="2001">
									<span class="fas fa-times-circle"></span>
								</button>
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-8 text-right">
					<button type="button" class="btn btn-success" ng-click="newRuleModal()">
						New Tax Rule
					</button>
				</div>
			</div>
		</h4>
	</div>

	<!-- No Results -->
	<div class="list-group" ng-show="results.length === 0">
		<div class="list-group-item">
			<div class="empty">No tax rules found.</div>
		</div>
	</div>

	<!-- Results Table -->
	<table class="table table-striped search-results-table" ng-show="results.length > 0">
		<thead>
			<tr>
				<th>Tax Rate</th>
				<th class="noborder">Applies To</th>
				<th class="nopadding"></th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="rule in rules | filter:search | orderBy:['name'] | limitTo:100 as results">
				<td>
					{{rule.tax_rate.name}}
					<a href="" class="id-tooltip" tooltip="{{rule.tax_rate.id}}">
						<span class="fas fa-hashtag"></span>
					</a>
				</td>
				<td class="noborder">
					<span ng-show="rule.state||rule.country">
						<span ng-show="rule.state">{{rule.state}}, </span>
						{{rule.country}}
					</span>
					<span class="label label-success" ng-hide="rule.state||rule.country">
						Default
					</span>
				</td>
				<td class="nopadding hover-actions-holder mobile-last mobile-visible">
					<div class="hover-actions">
						<button type="button" class="btn btn-default btn-sm" ng-click="editRuleModal(rule)" tooltip="Edit Tax Rule">
							<span class="fas fa-pencil"></span>
						</button>
						<button type="button" class="btn btn-danger btn-sm" ng-click="delete(rule)" ng-disabled="deleting[rule.id]" tooltip="Delete Tax Rule">
							<span class="fas fa-trash"></span>
						</button>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</div>
<cut-list-label count="results.length" total="(rules | filter:search).length"></cut-list-label>