<div class="modal-header">
	<a role="button" class="close" ng-click="close()" aria-hidden="true">&times;</a>
	<h4 class="modal-title">Cancel Subscription</h4>
</div>
<div class="modal-body">
	<p class="lead">When should this subscription be canceled?</p>

	<p class="alert alert-danger" ng-show="error">
		{{error.message}}
	</p>

	<hr/>
	<div class="form-group">
		<label class="control-label">Customer</label>
		<div>

			{{customerName}}
		</div>
	</div>

	<div class="form-group">
		<label class="control-label">Plan</label>
		<div>
			{{plan.name}}
			&mdash;
			<money amount="amount" currency="plan.currency"></money>
			{{plan.interval_count|recurringFrequency:plan.interval}}
		</div>
	</div>
	<hr/>

	<!-- Now -->
	<div class="form-group">
		<div>
			<label class="noselect">
				<input type="radio" ng-model="when" value="now" />
				Now
			</label>
		</div>
	</div>

	<!-- End of Current Billing Period -->
	<div class="form-group" ng-show="!subscription.cycles && !subscription.cancel_at_period_end">
		<div>
			<label class="noselect">
				<input type="radio" ng-model="when" value="period_end" />
				End of current billing period
			</label>
		</div>
		<div style="padding-left:15px;">
			on <em><company-date date="subscription.period_end"></company-date></em>
		</div>
	</div>

	<!-- End of Contract Term -->
	<div class="form-group" ng-show="subscription.cycles > 0 && !subscription.cancel_at_period_end && subscription.status != 'pending_renewal'">
		<div>
			<label class="noselect">
				<input type="radio" ng-model="when" value="period_end" />
				End of contract term
			</label>
		</div>
		<div style="padding-left:15px;" ng-show="subscription.remaining_cycles > 0">
			Remaining billing cycles: {{subscription.remaining_cycles}} / {{subscription.cycles}} billing cycle<span ng-show="subscription.cycles!=1">s</span>
		</div>
	</div>
</div>
<div class="modal-footer">
	<button type="button" class="btn btn-danger Button" ng-click="cancel(subscription, when)" ng-disabled="canceling" v-busy="canceling" v-busy-label="Canceling" v-pressable>
		{{'general.cancel'|translate}}
	</button>
</div>