<form name="modelForm" ng-submit="save(expectedPaymentDate)" class="below0">
	<div class="modal-header">
		<a role="button" class="close" ng-click="close()" aria-hidden="true">&times;</a>
		<h4 class="modal-title">
			Promise-to-Pay
		</h4>
	</div>
	<div class="modal-body">
		<p class="lead">When do you expect your customer to pay?</p>

		<p class="alert alert-danger" ng-show="error">
			{{error.message}}
		</p>

		<div class="row">
			<div class="col-sm-6">
				<div class="form-group">
					<label class="control-label">Customer</label>
					<div>
						{{invoice.customer.name}}
					</div>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="form-group">
					<label class="control-label">Invoice</label>
					<div>
						<document-name document="invoice"></document-name>
					</div>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-sm-6">
				<div class="form-group">
					<label class="control-label">Expected Date <span class="required"></span></label>
					<div>
						<div class="input-group">
							<input type="text" class="form-control" ng-model="expectedPaymentDate.date" ui-date="dateOptions" is-open="dpOpened" readonly="readonly" required />
							<span class="input-group-btn">
						<button type="button" class="btn btn-primary" ng-click="openDatepicker($event, 'dpOpened')">
							<span class="fas fa-calendar-alt"></span>
						</button>
					</span>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-sm-6">
				<div class="form-group">
					<label class="control-label">Payment Method <span class="required"></span></label>
					<div>
						<payment-method-selector ng-model="expectedPaymentDate.method" disabled-methods="['balance']"></payment-method-selector>
					</div>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="form-group">
					<label class="control-label">{{'payments.labels.reference'|translate}}</label>
					<div>
						<input type="text" class="form-control" ng-model="expectedPaymentDate.reference" />
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="modal-footer">
		<div class="left" ng-show="hasExpectedPaymentDate">
			<a href="" class="danger" ng-click="clearExpectedDate()" ng-hide="saving">
				{{'general.remove'|translate}}
			</a>
		</div>
		<button type="submit" class="btn btn-primary Button" ng-disabled="modelForm.$invalid||saving" v-busy="saving" v-busy-label="Saving" v-pressable>
			{{'general.save'|translate}}
		</button>
	</div>
</form>