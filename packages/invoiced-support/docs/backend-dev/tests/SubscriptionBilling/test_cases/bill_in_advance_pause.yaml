# This tests a typical bill in advance scenario
# that starts in the past. This is billed bi-monthly.

#debug: true
data:
  - object: plan
    interval: month
    interval_count: 1
    amount: 500

operations:
  - operation: create
    time: 2023-03-27
    parameters:
      start_date: 2023-03-27
      bill_in_advance_days: 3
    assertions:
      subscription:
        renews_next: 2023-04-24

  - operation: pause
    name: Subscription Pause
    time: 2023-03-27
    assertions:
      subscription:
        renews_next: 2023-04-24

  #resume of current date
  - operation: resume
    name: Subscription Resume
    time: 2023-03-27
    parameters:
      period_end: 2023-04-27
    assertions:
      subscription:
        renews_next: 2023-04-24
