{% trans_default_domain 'customer_portal' %}
{% if app.request.attributes.get('id') %}
	{% set title = 'labels.edit_contact'|trans %}
{% else %}
	{% set title = 'labels.new_contact'|trans %}
{% endif %}
{% extends "customerPortal/parentFrameOneColumn.twig" %}

{% block left %}
	<div class="billing-details-form">
		{{ form_start(form) }}

		{% for error in errors %}
			<div class="alert bg-danger-soft text-dark border border-danger">
				{{ error }}
			</div>
		{% endfor %}

		{{ form_errors(form) }}

		<div class="row contact-edit-name-row">
			<div class="col-sm-6">
				{{ form_row(form.name) }}
			</div>
		</div>

		<div class="row contact-edit-contact-method-row">
			<div class="col-sm-6 contact-edit-email-row">
				{{ form_row(form.email) }}
			</div>

			<div class="col-sm-6 contact-edit-phone-row">
				{{ form_row(form.phone) }}
			</div>
		</div>

		<hr class="contact-edit-address-divider" />
		<div class="row contact-edit-address-header-row">
			<div class="col-sm-12">
				<h4>
					{{ 'labels.address'|trans }}
				</h4>
			</div>
		</div>
		<div class="row contact-edit-address-row">
			<div class="col-sm-6 contact-edit-address1-row">
				{{ form_row(form.address1) }}
			</div>
			<div class="col-sm-6 contact-edit-address2-row">
				{{ form_row(form.address2) }}
			</div>
		</div>

		<section class="address contact">
			<div class="row contact-edit-address2-details-row">
				<div class="col-sm-4 contact-edit-city-row">
					{{ form_row(form.city) }}
				</div>
				<div class="col-sm-4 contact-edit-state-row">
					{{ form_row(form.state) }}
					<div class="state-select">
						<select class="form-select state-select hidden"></select>
					</div>
				</div>
				<div class="col-sm-4 contact-edit-postal-code-row">
					{{ form_row(form.postal_code) }}
				</div>
			</div>

			<div class="row contact-edit-country-row">
				<div class="col-sm-6">
					{{ form_row(form.country) }}
				</div>
			</div>
		</section>

		{{ form_widget(form) }}

		<div class="row">
			<div class="col-sm-12">
				<div class="form-group mt-3">
					<button type="submit" class="btn btn-primary">
						{{ 'buttons.save'|trans }}
					</button>
				</div>
			</div>
		</div>
		{{ form_end(form) }}
	</div>

	<script type="text/javascript" src="{{ asset('/js/views/contact.js') }}"></script>
{% endblock %}
