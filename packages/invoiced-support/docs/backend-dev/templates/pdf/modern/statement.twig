{% if company.logo %}
    <div class="logo-header top-header">
        <div class="logo-holder">
            <img src="{{ company.logo }}"  alt="logo"/>
        </div>
        <div class="header-holder">
            <div class="highlight-color-bg header-holder-context">
                <div class="left-header ">
                    {{ trans('headers.statement') }}
                </div>
                <div class="right-header">
                    <div class="address-holder">
                        <div class="name">{{ company.name }}</div>
                        <div class="address">{{ company.address|nl2br }}</div>
                        {% if company.email %}<div class="email">{{ company.email }}</div>{% endif %}
                        {% if company.phone %}<div class="phone">{{ company.phone }}</div>{% endif %}
                        {% if company.website %}<div class="website">{{ company.website }}</div>{% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% else %}
    <div class="header highlight-color-bg top-header">
        <div class="title">
            {{ trans('headers.statement') }}
        </div>
        <div class="contact-from">
            <div class="name">{{ company.name }}</div>
            <div class="address">{{ company.address|nl2br }}</div>
            {% if company.email %}<div class="email">{{ company.email }}</div>{% endif %}
            {% if company.phone %}<div class="phone">{{ company.phone }}</div>{% endif %}
            {% if company.website %}<div class="website">{{ company.website }}</div>{% endif %}
        </div>
    </div>
{% endif %}


<div class="context-holder">
    <div class="contact-to">
        <div class="field">{% if theme.use_translations %}{{ trans('labels.bill_to') }}{% else %}{{ theme.to_title }}{% endif %}</div>
        <div class="value">
            {% if customer.attention_to %}<div class="attention_to">{{ trans('labels.attention_to') }}: {{ customer.attention_to }}</div>{% endif %}
            <div class="name">{{ customer.name }}</div>
            <div class="address">{{ customer.address|nl2br }}</div>
        </div>
    </div>
</div>

{%  if statement.type == 'balance_forward' %}
    <div class="fields-holder">
        {% if statement.start %}
            <div class="field-holder">
                <div class="field">{{ trans('labels.date_from') }}</div>
                <div class="value">{{ statement.start }}</div>
            </div>
        {% endif %}
        <div class="field-holder">
            <div class="field">{{ trans('labels.date_to') }}</div>
            <div class="value">{{ statement.end }}</div>
        </div>
    </div>

    <div class="spacer highlight-color-border"></div>
    <div class="items-holder">
        <table class="items">
            <thead>
                <tr>
                    <th colspan="{% if statement.subCustomers %}6{% else %}5{% endif %}">
                        {{ trans('titles.account_detail') }}
                    </th>
                </tr>
                <tr>
                    <th><div>{{ trans('columns.date') }}</div></th>
                    {% if statement.subCustomers %}<th>{{ trans('columns.customer') }}</th>{% endif %}
                    <th><div>{{ trans('columns.description') }}</div></th>
                    <th class="money-column"><div>{{ trans('columns.invoiced') }}</div></th>
                    <th class="money-column"><div>{{ trans('columns.paid') }}</div></th>
                    <th class="money-column"><div>{{ trans('columns.balance') }}</div></th>
                </tr>
            </thead>
            <tbody>
            {% for line in statement.accountDetail %}
                <tr class="item">
                    <td>{{ line.date }}</td>
                    {% if statement.subCustomers %}
                        <td>{{ line.customer.name }}</td>
                    {% endif %}
                    <td>{{ line.number }}</td>
                    <td class="amount">
                        {% if line.invoiced %}
                            {{ line.invoiced|money }}
                        {% endif %}
                    </td>
                    <td class="amount">
                        {% if line.paid %}
                            {{ line.paid|money }}
                        {% endif %}
                    </td>
                    <td class="amount">{{ line.balance|money }}</td>
                </tr>
            {%  endfor %}
            </tbody>
        </table>
        <table class="items total">
            <tfoot>
                {% if statement.previousBalance %}
                    <tr class="field-holder right-align">
                        <td class="field">{{ trans('labels.previous_balance') }}</td>
                        <td class="value">{{ statement.previousBalance|money }}</td>
                    </tr>
                {% endif %}
                <tr class="field-holder right-align">
                    <td class="field">{{ trans('labels.total_invoiced') }}</td>
                    <td class="value">{{ statement.totalInvoiced|money }}</td>
                </tr>
                <tr class="field-holder right-align">
                    <td class="field">{{ trans('labels.total_paid') }}</td>
                    <td class="value">{{ statement.totalPaid|money }}</td>
                </tr>
                {% if statement.totalUnapplied %}
                    <tr class="field-holder right-align">
                        <td class="field">{{ trans('labels.unapplied_payments') }}</td>
                        <td class="value">{{ statement.totalUnapplied|money }}</td>
                    </tr>
                {% endif %}
                <tr class="field-holder right-align">
                    <td class="field bolder top-border">{{ trans('labels.account_balance') }}</td>
                    <td class="value bolder top-border">{{ statement.balance|money }}</td>
                </tr>
            </tfoot>
        </table>
    </div>

    <!-- Credit Balance History -->
    {% if statement.hasCredits %}
        <div class="items-holder">
            <table class="items">
                <thead>
                    <tr>
                        <th colspan="5">
                            {{ trans('titles.credit_balance_history') }}
                        </th>
                    </tr>
                    <tr>
                        <th>{{ trans('columns.date') }}</th>
                        <th>{{ trans('columns.description') }}</th>
                        <th class="money-column">{{ trans('columns.issued') }}</th>
                        <th class="money-column">{{ trans('columns.spent') }}</th>
                        <th class="money-column">{{ trans('columns.balance') }}</th>
                    </tr>
                </thead>
                <tbody>
                    {% for line in statement.creditDetail %}
                        <tr class="item">
                            <td>{{ line.date }}</td>
                            <td>{{ line.description }}</td>
                            <td class="amount">{{ line.issued|money }}</td>
                            <td class="amount">{{ line.charged|money }}</td>
                            <td class="amount">{{ line.creditBalance|money }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            <table class="items total">
                <tfoot>
                    {% if statement.previousCreditBalance %}
                        <tr class="field-holder right-align">
                            <td class="field">{{ trans('labels.previous_balance') }}</td>
                            <td class="value">{{ statement.previousCreditBalance|money }}</td>
                        </tr>
                    {% endif %}
                    <tr class="field-holder right-align">
                        <td class="field">{{ trans('labels.total_issued') }}</td>
                        <td class="value">{{ statement.totalCreditsIssued|money }}</td>
                    </tr>
                    <tr class="field-holder right-align">
                        <td class="field">{{ trans('labels.total_spent') }}</td>
                        <td class="value">{{ statement.totalCreditsSpent|money }}</td>
                    </tr>
                    <tr class="field-holder right-align">
                        <td class="field bolder top-border">{{ trans('labels.credit_balance') }}</td>
                        <td class="value bolder top-border">{{ statement.creditBalance|money }}</td>
                    </tr>
                </tfoot>
            </table>
        </div>
    {% endif %}


{% elseif statement.type == 'open_item' %}
    <div class="items-holder">
        <table class="items">
            <thead class="bolder">
                <tr>
                    <th colspan="{% if statement.subCustomers %}6{% else %}5{% endif %}" class="highlight-color-border">
                        {% if statement.pastDueOnly %}
                            {{ trans('titles.past_due_items', {'%date%': statement.end}) }}
                        {% else %}
                            {{ trans('titles.open_items', {'%date%': statement.end}) }}
                        {% endif %}
                    </th>
                </tr>
                <tr>
                    <th class="highlight-color-border">{{ trans('columns.date') }}</th>
                    {% if statement.subCustomers %}<th class="highlight-color-border">{{ trans('columns.customer') }}</th>{% endif %}
                    <th class="highlight-color-border">{{ trans('columns.description') }}</th>
                    <th class="highlight-color-border money-column">{{ trans('columns.total') }}</th>
                    <th class="highlight-color-border money-column">{{ trans('columns.due_date') }}</th>
                    <th class="highlight-color-border total-narrow money-column">{{ trans('columns.balance') }}</th>
                </tr>
            </thead>
            <tbody>
                {% for line in statement.accountDetail %}
                    <tr class="item">
                        <td>{{ line.date }}</td>
                        {% if statement.subCustomers %}
                            <td>{{ line.customer.name }}</td>
                        {% endif %}
                        <td>{{ line.number }}</td>
                        <td class="money-column">{{ line.total|money }}</td>
                        <td class="money-column">{{ line.dueDate }}</td>
                        <td class="money-column">{{ line.balance|money }}</td>
                    </tr>
                {% endfor %}
                <tr>
                    <td height="2" colspan="{% if statement.subCustomers %}6{% else %}5{% endif %}"> </td>
                </tr>
                <tr class="field-holder right-align border-top-2 bolder">
                    <td class="field" colspan="{% if statement.subCustomers %}5{% else %}4{% endif %}">
                        {% if statement.pastDueOnly %}
                            {{ trans('labels.past_due_balance') }}
                        {% else %}
                            {{ trans('labels.total_balance') }}
                        {% endif %}
                    </td>
                    <td class="value">{{ statement.balance|money }}</td>
                </tr>
            </tbody>
        </table>
    </div>
{% endif %}
